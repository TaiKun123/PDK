/* static/css/admin.css */

/* ==========================================================================
   目錄 (Table of Contents)
   1. 全域設定 (Global Variables & Reset)
   2. 導覽列 (Navbar)
   3. 版面佈局 (Layout & Container)
   4. 側邊欄 (Sidebar)
   5. 數據儀表板 (Dashboard)
   6. 卡片與表格 (Card & Table)
   7. 狀態標籤與選單 (Status Badges & Select)
   8. 按鈕樣式 (Buttons)
   9. 分頁 (Pagination)
   10. 詳情頁專用樣式 (Detail Page)
   ========================================================================== */


/* =========================================
   1. 全域設定 (Global Variables & Reset)
   ========================================= */
:root {
    --bg-body: #050505;       /* 極致黑背景 */
    --bg-card: #141414;       /* 深灰卡片背景 */
    --bg-sidebar: #0a0a0a;    /* 側邊欄背景 */
    --bg-input: #222222;      /* 輸入框背景 */
    
    --text-main: #ffffff;     /* 主文字白 */
    --text-muted: #888888;    /* 次要文字灰 */
    
    --border-color: #333333;  /* 邊框顏色 */
    --accent-color: #ffffff;  /* 強調色 */
    
    --hover-bg: #2a2a2a;      /* 滑鼠懸停背景 */
}

body {
    font-family: "Helvetica Neue", Arial, sans-serif;
    background-color: var(--bg-body);
    color: var(--text-main);
    margin: 0;
    padding: 0;
    letter-spacing: 0.5px;
}

h1, h2, h3 { color: var(--text-main); margin: 0; font-weight: 400; }
a { text-decoration: none; color: inherit; transition: 0.3s; }
ul { list-style: none; padding: 0; margin: 0; }

/* 文字輔助類 */
.font-mono { font-family: monospace; letter-spacing: 0.5px; }
.bold { font-weight: bold; }
.text-sm { font-size: 0.85rem; }
.text-gold { color: #d4af37; } 
.text-gray { color: var(--text-muted); }
.empty-state { text-align: center; padding: 50px; color: var(--text-muted); }


/* =========================================
   2. 導覽列 (Navbar)
   ========================================= */
.admin-navbar {
    /* ★ 修改：高度從 60px 拉高至 70px */
    height: 80px;
    background-color: var(--bg-sidebar);
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: center; /* 讓內部的 container 置中 */
    padding: 0;              /* 移除 padding，交給 container */
    position: sticky;
    top: 0;
    z-index: 1000;
}

.navbar-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    height: 100%;
}

.navbar-brand {
    font-size: 1.2rem;
    font-weight: bold;
    letter-spacing: 2px;
    color: var(--text-main);
    display: flex;
    align-items: center;
    gap: 10px;
}

/* 搜尋框樣式 */
.navbar-search {
    flex: 1;
    max-width: 400px;
    margin: 0 20px;
    display: flex;
    align-items: center; /* 讓搜尋框垂直置中 */
    position: relative;
}

.navbar-search input {
    width: 100%;
    
    /* ★ 修改：固定高度 40px，並減少內距，讓它看起來更精緻 ★ */
    height: 40px; 
    padding: 0 15px 0 40px; /* 上下0，左縮排給文字，右預留給按鈕(如果按鈕在右邊) */
    /* 修正：原本 padding-right 是給 icon 的，這裡維持 padding-right: 40px */
    padding: 0 40px 0 15px; 
    
    background: var(--bg-input);
    border: 1px solid var(--border-color);
    border-radius: 20px;
    color: var(--text-main);
    outline: none;
    transition: 0.3s;
    font-size: 0.9rem;
}

.navbar-search input:focus {
    border-color: #666;
    background: #000;
}

.navbar-search button {
    position: absolute;
    right: 15px; /*稍微往左一點，不要貼邊*/
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: 0;
    height: 40px; /* 與 input 等高，方便置中 */
    display: flex;
    align-items: center;
}

.navbar-actions {
    display: flex;
    gap: 20px;
}

.nav-link {
    font-size: 0.9rem;
    color: var(--text-muted);
    display: flex;
    align-items: center;
    gap: 6px;
}
.nav-link:hover { color: var(--text-main); }
.nav-link.text-danger:hover { color: #ff6b6b; }


/* =========================================
   3. 版面佈局 (Layout & Container)
   ========================================= */
.admin-layout {
    display: flex;
    /* 扣掉導覽列高度 70px */
    min-height: calc(100vh - 70px);
}

/* 內容限制寬度容器 */
.layout-container {
    max-width: 1350px; /* 限制最大寬度 */
    margin: 0 auto;    /* 內容置中 */
    width: 95%;
}

/* 右側主內容區域 */
.admin-content {
    flex: 1;
    padding: 30px;
    overflow-y: auto;
}

/* 詳情頁容器 padding */
.detail-page-wrapper {
    padding: 30px 20px;
}


/* =========================================
   4. 側邊欄 (Sidebar)
   ========================================= */
.admin-sidebar {
    width: 240px;
    background-color: var(--bg-sidebar);
    border-right: 1px solid var(--border-color);
    padding: 20px 0;
    flex-shrink: 0;
}

.menu-item {
    display: flex;
    align-items: center;
    justify-content: space-between; /* 文字靠左，數字靠右 */
    padding: 12px 25px;
    color: var(--text-muted);
    font-size: 0.95rem;
    border-left: 3px solid transparent;
}

.menu-item i { width: 25px; text-align: center; margin-right: 10px; }

.menu-item:hover {
    background-color: var(--hover-bg);
    color: var(--text-main);
}

.menu-item.active {
    background-color: var(--hover-bg);
    color: var(--text-main);
    border-left-color: var(--text-main);
    font-weight: bold;
}

/* 側邊欄數字徽章 */
.badge-count {
    background-color: #222;
    color: #666;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.8rem;
    font-weight: bold;
    min-width: 20px;
    text-align: center;
    transition: 0.3s;
}

/* 情境 A：普通數字 */
.menu-item:hover .badge-count,
.menu-item.active .badge-count {
    background-color: #444;
    color: #fff;
}

/* 情境 B：重要提醒 (數量 > 0) - 強制金色 */
.badge-count.active,
.menu-item:hover .badge-count.active,
.menu-item.active .badge-count.active {
    background-color: #d4af37;
    color: #000;
}


/* =========================================
   5. 數據儀表板 (Dashboard)
   ========================================= */
.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.stat-card {
    background: var(--bg-card);
    padding: 20px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    gap: 15px;
}

.stat-icon {
    width: 50px;
    height: 50px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: #fff;
}

.bg-primary { background: linear-gradient(135deg, #333, #555); }
.bg-warning { background: linear-gradient(135deg, #554400, #886600); }
.bg-success { background: linear-gradient(135deg, #003300, #005500); }
.bg-info    { background: linear-gradient(135deg, #002244, #004488); }

.stat-info h3 { font-size: 1.5rem; font-weight: bold; margin-bottom: 2px; }
.stat-info p { font-size: 0.85rem; color: var(--text-muted); margin: 0; }


/* =========================================
   6. 卡片與表格 (Card & Table)
   ========================================= */
.card {
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    overflow: hidden;
}

/* 詳情頁卡片通用 Header */
.card-header { 
    padding: 20px 30px; 
    border-bottom: 1px solid #222; 
    display: flex; 
    align-items: center; 
    gap: 10px; 
}
.badge-pill { 
    background: #333; 
    font-size: 0.75rem; 
    padding: 3px 10px; 
    border-radius: 20px; 
    color: #aaa; 
}

table { width: 100%; border-collapse: collapse; }
thead { background-color: #1a1a1a; }

th {
    text-align: left;
    padding: 15px 20px;
    font-size: 0.85rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 1px;
    border-bottom: 1px solid var(--border-color);
}

td {
    padding: 15px 20px;
    border-bottom: 1px solid var(--border-color);
    font-size: 0.95rem;
    vertical-align: middle;
}

tr:hover { background-color: var(--hover-bg); }


/* =========================================
   7. 狀態標籤與選單 (Status Badges & Select)
   ========================================= */
/* A. 狀態標籤 (Badge Only) */
.status-badge {
    display: inline-block;
    padding: 6px 15px;
    border: 1px solid;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: bold;
}
.status-badge.status-pending { color: #ffcc00; border-color: #554400; background: rgba(255, 204, 0, 0.1); }
.status-badge.status-paid { color: #00ff88; border-color: #004422; background: rgba(0, 255, 136, 0.1); }
.status-badge.status-shipped { color: #00ccff; border-color: #003355; background: rgba(0, 204, 255, 0.1); }
.status-badge.status-done { color: #ffffff; border-color: #555; background: rgba(255, 255, 255, 0.1); }
.status-badge.status-cancelled { color: #ff6666; border-color: #552222; background: rgba(255, 102, 102, 0.1); }

/* B. 下拉選單 (操作用 - 深灰底 + 彩色字) */
.status-select {
    width: 100%;
    padding: 6px 30px 6px 10px;
    border-radius: 4px;
    border: 1px solid #444;
    background-color: #2a2a2a; /* 統一深灰底 */
    font-size: 0.9rem;
    cursor: pointer;
    font-weight: bold;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 10px center;
    background-size: 14px;
}

/* 根據狀態改變文字顏色 */
.status-select.pending { color: #ffcc00; }
.status-select.paid { color: #00ff88; }
.status-select.shipped { color: #00ccff; }
.status-select.done { color: #ffffff; }
.status-select.cancelled { color: #ff6666; }

.status-select:hover { border-color: #666; background-color: #333; }
.status-select:focus { outline: none; border-color: #888; }
.status-select option { background-color: #2a2a2a; color: #ffffff; padding: 10px; font-weight: normal; }

.status-select option[value="pending"] { color: #ffcc00; }
.status-select option[value="paid"] { color: #00ff88; }
.status-select option[value="shipped"] { color: #00ccff; }
.status-select option[value="done"] { color: #ffffff; }
.status-select option[value="cancelled"] { color: #ff6666; }


/* =========================================
   8. 按鈕樣式 (Buttons)
   ========================================= */
.btn-detail {
    background: transparent;
    border: 1px solid var(--text-muted);
    color: var(--text-main);
    padding: 5px 15px;
    font-size: 0.85rem;
    border-radius: 4px;
}
.btn-detail:hover { background: var(--text-main); color: #000; }

.action-btn {
    width: 100%; padding: 12px; margin-bottom: 10px; border: none; border-radius: 4px; cursor: pointer; color: #fff; font-weight: bold; letter-spacing: 1px;
}
/* 列表頁的圖示按鈕 (刪除/列印) */
.btn-icon {
    width: 40px; height: 40px;
    border-radius: 6px; border: 1px solid #444; background: #222;
    color: #888; cursor: pointer; transition: 0.2s;
    display: flex; align-items: center; justify-content: center;
}
.btn-delete:hover { background: #331111; color: #ff5555; border-color: #662222; }
.btn-print:hover { background: #333; color: #fff; border-color: #666; }

.btn-back {
    color: var(--text-muted);
    font-size: 0.95rem;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-weight: 500;
}
.btn-back:hover { color: var(--text-main); }


/* =========================================
   9. 分頁 (Pagination)
   ========================================= */
.pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 30px;
    gap: 15px;
}

.page-btn {
    padding: 8px 15px;
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 0.9rem;
}
.page-btn:hover { background: var(--text-main); color: #000; }
.page-info { color: var(--text-muted); font-size: 0.9rem; }


/* =========================================
   10. 詳情頁專用樣式 (Detail Page)
   ========================================= */
/* Header 區塊 */
.detail-header-card {
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 25px 30px;
    margin-bottom: 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.header-left-group { display: flex; flex-direction: column; gap: 5px; }
.order-title-block { display: flex; align-items: center; }
.order-title-block h1 { font-size: 1.8rem; font-weight: 700; color: #fff; letter-spacing: 1px; }
.order-meta { color: #888; font-size: 0.9rem; margin-top: 5px; }

.header-right-actions { display: flex; align-items: center; gap: 15px; }
.status-form { width: 140px; }


/* 內容網格 (左右排列) */
.detail-content-grid {
    display: grid;
    grid-template-columns: 2fr 1fr; /* 左2右1 */
    gap: 20px;
    align-items: start;
}
@media (max-width: 900px) {
    .detail-content-grid { grid-template-columns: 1fr; }
}

/* 左側：商品明細 Grid 系統 */
.product-list-card { padding: 0; }
.item-list-container { padding: 10px 30px; }

.product-item-grid {
    display: grid;
    grid-template-columns: 60px 1fr 80px 120px; /* 圖片 | 名稱 | 數量 | 總價 */
    align-items: center;
    gap: 20px;
    padding: 20px 0;
    border-bottom: 1px solid #1a1a1a;
}
.product-item-grid:last-child { border-bottom: none; }

.prod-img {
    width: 60px; height: 60px;
    background: #222; border-radius: 6px;
    display: flex; align-items: center; justify-content: center;
    color: #444; font-size: 1.2rem;
}

.prod-info { display: flex; flex-direction: column; gap: 4px; }
.prod-name { font-size: 1rem; font-weight: bold; color: #fff; }
.prod-unit-price { font-size: 0.85rem; color: #666; }

.prod-qty { text-align: center; }
.prod-qty span { background: #222; padding: 2px 10px; border-radius: 4px; color: #aaa; font-size: 0.9rem; }

.prod-total { text-align: right; font-weight: bold; color: #eee; font-size: 1.05rem; }

/* 金額結算 Footer */
.summary-footer {
    background: #0f0f0f;
    padding: 25px 30px;
    border-top: 1px solid #222;
}
.sum-row { display: flex; justify-content: space-between; margin-bottom: 8px; color: #888; font-size: 0.95rem; }
.sum-row.discount { color: #00ff88; }
.sum-divider { border-top: 1px dashed #333; margin: 15px 0; }
.sum-row.total { color: #fff; font-size: 1rem; align-items: center; }
.highlight-gold { font-size: 1.4rem; color: #d4af37; font-weight: bold; }

/* 右側：顧客資訊 */
.customer-card { padding: 25px 30px; }
.info-block { margin-bottom: 20px; }
.info-block label { display: block; color: #555; font-size: 0.85rem; margin-bottom: 5px; }
.info-block div { color: #ddd; font-size: 1rem; }
.dashed-line { border-top: 1px dashed #222; margin: 25px 0; }
.address-box { line-height: 1.5; color: #ccc; }

/* =========================================
   11. 商品列表頁專用樣式 (Product List)
   ========================================= */

/* 標題與按鈕並排的標題列 */
.header-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: none; 
    padding-bottom: 20px;
    margin-bottom: 0;
}

.header-actions h2 {
    margin: 0;
}

/* 新增商品按鈕 (覆蓋預設 full width) */
.btn-create {
    width: auto !important; /* 強制不佔滿 */
    padding: 10px 20px;
    margin: 0;
    display: inline-flex;
    align-items: center;
    gap: 8px; /* 圖示跟文字的距離 */
}

/* 商品縮圖 */
.product-thumb {
    width: 50px;
    height: 50px;
    object-fit: cover;
    border-radius: 4px;
    display: block;
}

/* 商品縮圖 (無圖片時的佔位框) */
.product-thumb-placeholder {
    width: 50px;
    height: 50px;
    background: #333;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #555;
    font-size: 1.2rem;
}

/* 操作區按鈕群組 */
.action-group {
    display: flex;
    align-items: center;
    gap: 5px;
}

/* 小型的刪除按鈕 */
.btn-sm-icon {
    width: 30px;
    height: 30px;
    font-size: 0.8rem;
    padding: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}


/* 表單外層容器調整 */
.form-page-container {
    padding: 40px 20px;
}

/* 表單卡片限制寬度與置中 */
.form-card {
    max-width: 800px;
    margin: 0 auto;
}

.form-body {
    padding: 30px;
}

/* 雙欄排版 (Grid) */
.form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

/* 輸入框群組 */
.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    color: #888;
    margin-bottom: 8px;
    font-size: 0.9rem;
}

.form-group small {
    color: #666;
    display: block;
    margin-top: 5px;
    font-size: 0.85rem;
}

/* 輸入框通用樣式 */
.form-input,
.form-select,
textarea {
    width: 100%;
    padding: 12px;
    background: #222;
    border: 1px solid #444;
    color: #fff;
    border-radius: 4px;
    box-sizing: border-box;
    font-size: 1rem;
    transition: 0.3s;
}

/* 輸入框聚焦效果 */
.form-input:focus,
.form-select:focus,
textarea:focus {
    border-color: #c2c2c2;
    outline: none;
    background: #000;
}

/* 唯讀輸入框樣式 */
.form-input[readonly] {
    background: #1a1a1a;
    color: #666;
    cursor: not-allowed;
    border-color: #333;
}

/* 圖片預覽區塊 */
.preview-box {
    margin-top: 10px;
}

.preview-text {
    color: #888;
    font-size: 0.9rem;
    margin-bottom: 5px;
}

.preview-img {
    width: 150px;
    height: 150px;
    object-fit: cover;
    border-radius: 8px;
    border: 1px solid #444;
    background: #000;
}

/* 錯誤訊息提示框 */
.alert-error {
    background: rgba(255, 107, 107, 0.1);
    color: #ff6b6b;
    padding: 10px;
    border-radius: 4px;
    margin-bottom: 20px;
    text-align: center;
    border: 1px solid rgba(255, 107, 107, 0.2);
}

/* 底部按鈕區 */
.form-actions {
    margin-top: 30px;
    display: flex;
    gap: 10px;
}

/* 取消按鈕修正 */
.btn-cancel {
    text-align: center;
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-complete {
    background-color: #333 !important;
    color: #ccc !important;
    border: 1px solid #555;
    padding: 10px 25px;
    border-radius: 4px;
    cursor: pointer;
    transition: 0.3s;
}

/* 滑鼠移過去的效果 */
.btn-complete:hover {
    background-color: #333 !important; /* 變深一點的金色 */
    color: #ccc !important;
}

/* 取消按鈕 - 改為深灰背景、白色文字 (讓它不要那麼搶眼) */
.btn-cancel {
    background-color: #333 !important;
    color: #ccc !important;
    border: 1px solid #555;
    padding: 10px 25px;
    border-radius: 4px;
    cursor: pointer;
    transition: 0.3s;
}

.btn-cancel:hover {
    background-color: #444 !important;
    color: #fff !important;
    border-color: #fff;
}

/* 頁面專屬：子選單樣式 */
        .submenu-link {
            display: block;
            padding: 8px 15px 8px 50px; /* 左邊縮排多一點 */
            color: #888;
            text-decoration: none;
            font-size: 0.9rem;
            border-left: 3px solid transparent;
            transition: 0.3s;
        }
        .submenu-link:hover {
            color: #fff;
            background: rgba(255, 255, 255, 0.05);
        }
        /* 選中時的亮燈效果 */
        .submenu-link.active {
            color: #b5b5b5;
            background: rgba(212, 175, 55, 0.05);
            border-left-color: #b8b8b8;
        }